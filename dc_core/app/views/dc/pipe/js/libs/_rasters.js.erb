jQuery(function($) {
	$('#c_box').hide();
	$('#c_width_box').hide();
	$('#g_width_box').hide();
	$('#cwidth_box').hide();
	$('#fwidth_box').hide();
	
	
	$('#raster_raster_type').each(function(){
		var that = $('#raster_raster_type').val()
		if ( that == 'fixed' ) {
			$('#c_box').show();
			$('#c_width_box').show();
			$('#g_width_box').show();
			$('#cwidth_box').hide();
			$('#fwidth_box').hide();
			$('#cwidth_table').show();
		}
		if ( that == 'float' ) {
			$('#c_box').show();
			$('#c_width_box').hide();
			$('#g_width_box').hide();
			$('#cwidth_box').show();
			$('#fwidth_box').hide();
			$('#cwidth_table').hide();
		}
		if ( that == 'free' ) {
			$('#c_box').hide();
			$('#c_width_box').hide();
			$('#g_width_box').hide();
			$('#cwidth_box').hide();
			$('#fwidth_box').hide();
			$('#cwidth_table').hide();
		}
	});
	
	
	$('#raster_columns').live('keyup', function(){
		updateRasterStuff();
	});
	$('#raster_column_width').live('keyup', function(){
		updateRasterStuff();
	});
	$('#raster_gutter_width').live('keyup', function(){
		updateRasterStuff();
	});
	
	
	$('#raster_raster_type').live('change', function(){
		var that = $(this).val()
		if ( that == 'fixed' ) {
			$('#c_box').show();
			$('#c_width_box').show();
			$('#g_width_box').show();
			$('#cwidth_box').hide();
			$('#fwidth_box').hide();
			$('#cwidth_table').show();
			$('#content_width_unit').html('Pixel');
			updateRasterStuff();
		}
		if ( that == 'float' ) {
			$('#c_box').show();
			$('#c_width_box').hide();
			$('#g_width_box').hide();
			$('#cwidth_box').show();
			$('#fwidth_box').hide();
			$('#cwidth_table').hide();
			$('#raster_content_width').val(94);
			$('#content_width_unit').html('Prozent');
		}
		if ( that == 'free' ) {
			$('#c_box').hide();
			$('#c_width_box').hide();
			$('#g_width_box').hide();
			$('#cwidth_box').hide();
			$('#fwidth_box').hide();
			$('#cwidth_table').hide();
		}
	});
	
	function updateRasterStuff(){
		var gutter_w = $('#raster_gutter_width').val();
		var column_w = $('#raster_column_width').val();
		var columns = $('#raster_columns').val();
		var grid_w = parseInt(gutter_w) + parseInt(column_w);
		var f_width = grid_w * columns;
		var c_width = grid_w * columns - gutter_w;
		
		$('#content_width_out').html( c_width );
		$('#full_width_out').html( f_width );
		
		$('#raster_full_width').val( f_width );
		$('#raster_content_width').val( c_width );
	};
	
	$('#full_width_out').html(  );
});